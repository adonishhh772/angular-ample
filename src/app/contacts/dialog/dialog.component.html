<div mat-dialog-content class="dialog_heading flex">
    <div *ngIf="this.data.type === 'assign'" class="col-md-10"><p>Assign</p></div>
    <div *ngIf="this.data.type === 'category'" class="col-md-10"><p>Update Category</p></div>
    <div class="col-md-2 text_right">
        <button mat-mini-fab (click)="onNoClick()" class="btn-top btn-hidden">
            <mat-icon>highlight_off</mat-icon>
        </button>
    </div>
</div>
<div class="col-md-12">
    <div class="mb-10 border_btm_disabled">
        <div *ngIf="this.data.type === 'assign'">
            <form [formGroup]="asigneeForm" (ngSubmit)="assignClient()">
                <div class="col-md-12">
                    <div class="row col-md-10 mb-10">
                        <div [className]="isSubmitted &&errorControl.assigned_to.errors ? 'col-md-12 row border error p-10' : 'col-md-12 row border p-10'">
                            <div class="col-sm-2 pt-15 pr-10">
                                <span class="material-icons">badge</span>
                            </div>
                            <mat-form-field class="col-md-12 pb-10">
                                <mat-label>Assign Users*</mat-label>
                                <mat-select formControlName="assigned_to" ngDefaultControl [(ngModel)]="assigneeName">
                                    <mat-option *ngFor="let assign of allAssignee" [value]="assign.name">
                                        {{assign.name}}
                                    </mat-option>
                                </mat-select>
                                <mat-hint class="mat-error" align="start" *ngIf="isSubmitted && errorControl.assigned_to.errors?.required">
                                    Assignee is required.</mat-hint>
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <div class="row col-md-10 mb-10">
                        <mat-checkbox class="example-margin"
                                      color="primary"
                                      [checked] = "setFollow"
                                      (change)="setFollowup($event.checked)">
                            Set Followup date
                        </mat-checkbox>
                    </div>
                </div>
                <div class="col-md-12" *ngIf="setFollow">
                    <div class="row col-md-10 mb-10">
                        <div class="col-md-12 row border p-10">
                            <div class="col-sm-2 pt-15 pr-10">
                                <span class="material-icons">date_range</span>
                            </div>
                            <mat-form-field class="col-md-12 pb-10">
                                <mat-label>Followup Date</mat-label>
                                <input type="date" [ngModel]="followDate | date:'yyyy-MM-dd'" formControlName="followUp" matInput #input>
                            </mat-form-field>
                        </div>
                    </div>
                </div>

                <!--<mat-form-field class="col-md-12 pb-10">-->
                <!--<mat-label>Commission</mat-label>-->
                <!--<input formControlName="commission" type="number" matInput #input>-->

                <!--</mat-form-field>-->
            </form>
        </div>
        <div  *ngIf="this.data.type === 'category'">
            <form [formGroup]="catForm" (ngSubmit)="updateCategory()">
                <div class="col-md-12">
                    <div class="row col-md-10 mb-10">
                        <div class="col-md-12 row border p-10">
                            <div class="col-sm-2 pt-15 pr-10">
                                <span class="material-icons">category</span>
                            </div>
                            <mat-form-field class="col-md-12 pb-10">
                                <mat-label>Category</mat-label>
                                <mat-select formControlName="category" ngDefaultControl [(ngModel)]="this.data.category">
                                    <mat-option value="None">
                                        None
                                    </mat-option>
                                    <mat-option *ngFor="let cat of category" [value]="cat.name">
                                        {{cat.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

</div>
<div mat-dialog-actions class="col-md-12 actions-right">
    <button mat-button [disabled]="isProcessing" (click)="onNoClick()" color="warn">Cancel</button>
    <button mat-button *ngIf="this.data.type === 'assign'" [disabled]="isProcessing" (click)="assignClient()" class="ample_button">Submit</button>
    <button mat-button *ngIf="this.data.type === 'category'" [disabled]="isProcessing" (click)="updateCategory()" class="ample_button">Submit</button>
</div>
