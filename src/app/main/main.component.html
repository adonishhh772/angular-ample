<div>
    <mat-drawer-container [ngStyle]="myStyles" class="menu-container" hasBackdrop=false>
        <mat-drawer #drawer class="side_menu" mode="side" opened>
            <div class="menu_header flex"><img src="../assets/myunistudy.png">
                <img class="logo_text" src="../assets/myunistudytext.png"></div>
            <mat-list id="drawerItem" class="side_menu_nav">
                <mat-list-item title="Dashboard" class="menu_item"
                               (click)="changeRoute($event,'','','Dashboard','dashboard','dashboard')">
                    <mat-icon matSuffix>dashboard</mat-icon>
                    <span class="menu_title">Dashboard</span></mat-list-item>
                <mat-accordion *ngIf="!hasShrunk && (!isClient)">
                    <mat-expansion-panel title="All Contacts" class="menu_item_accordian"
                                         (opened)="panelOpenState = true"
                                         (closed)="panelOpenState = false">
                        <mat-expansion-panel-header class="menu_accordian_header">
                            <mat-panel-title class="menu_accordian_title">
                                <mat-icon matSuffix>people</mat-icon>
                                <span class="menu_title">All Contacts</span>
                            </mat-panel-title>
                            <mat-panel-description>
                                <span class="menu_badge contact_badge" matBadge="{{contactCount}}"
                                      matBadgeOverlap="false"></span>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'All Contacts','people','View All','contacts/all','view_list')">
                            <mat-icon matSuffix>view_list</mat-icon>
                            <span class="menu_title">View All</span>
                            <div class="col-md-4"></div>
                        </mat-list-item>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'All Contacts','people','Add Contacts','contacts/add','add_circle')">
                            <mat-icon matSuffix>add_circle</mat-icon>
                            <span class="menu_title">Add Contacts</span></mat-list-item>
                    </mat-expansion-panel>
                </mat-accordion>
                <mat-list-item *ngIf="!isClient" title="Leads Manager" class="menu_item"
                               (click)="changeRoute($event,'','','Lead Manager','leads','groups')">
                    <mat-icon matSuffix>groups</mat-icon>
                    <span class="menu_title">Leads Manager</span></mat-list-item>
                <mat-accordion *ngIf="!hasShrunk">
                    <mat-expansion-panel title="Application Manager" class="menu_item_accordian"
                                         (opened)="panelOpenState = true"
                                         (closed)="panelOpenState = false">
                        <mat-expansion-panel-header class="menu_accordian_header">
                            <mat-panel-title class="menu_accordian_title">
                                <mat-icon matSuffix>school</mat-icon>
                                <span class="menu_title">Application Manager</span>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Application Manager','school','People','contacts','people')">
                            <mat-icon matSuffix>people</mat-icon>
                            <span class="menu_title">All Contacts</span>
                            <div class="col-md-4"></div>
                            <span class="menu_badge" matBadge="4" matBadgeOverlap="false"></span></mat-list-item>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Application Manager','school','Group','leads','groups')">
                            <mat-icon matSuffix>groups</mat-icon>
                            <span class="menu_title">Leads Management</span></mat-list-item>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-list-item *ngIf="hasShrunk" title="Application Manager" class="menu_item menu_lists"
                               (mouseover)="openLiBranch = false; openLiApplication = true;">
                    <mat-icon matSuffix>school</mat-icon>
                    <span class="menu_title"></span>
                    <ul class="tree-menu" *ngIf="hasShrunk && openLiApplication"
                        (mouseleave)="openLiApplication = false">
                        <li><a href="https://icondatcrm.com/condat/5/applications/dashboard"><i
                                class="fa fa-circle-o"></i>
                            Application Dashboard</a></li>
                        <li class="treeview" style="height: auto;">
                            <a href="#"><i class="fa fa-circle-o"></i> Application Tracker
                                <span class="pull-right-container">
                  <i class="fa fa-angle-left pull-right"></i>
                </span>
                            </a>
                        </li>
                        <li><a href="https://icondatcrm.com/condat/5/application-status"><i class="fa fa-circle-o"></i>
                            Application Types</a></li>

                        <li><a href="https://icondatcrm.com/condat/5/create-application"><i class="fa fa-circle-o"></i>
                            Add Application</a>
                        </li>
                        <li><a href="https://icondatcrm.com/condat/5/no-applications"><i class="fa fa-circle-o"></i> No
                            Application
                            Clients</a></li>
                        <li><a href="https://icondatcrm.com/condat/5/applications/search"><i class="fa fa-circle-o"></i>
                            Filter Application</a></li>

                    </ul>
                </mat-list-item>

                <mat-accordion *ngIf="!hasShrunk && (!isClient) && (!isManager) && (!isAgent)">
                    <mat-expansion-panel title="Branch Manager" class="menu_item_accordian"
                                         (opened)="panelOpenState = true"
                                         (closed)="panelOpenState = false">
                        <mat-expansion-panel-header class="menu_accordian_header">
                            <mat-panel-title class="menu_accordian_title">
                                <mat-icon matSuffix>account_tree</mat-icon>
                                <span class="menu_title">Branch Manager</span>
                            </mat-panel-title>
                            <mat-panel-description>
                                <span class="menu_badge branch_badge" matBadge="{{branchCount}}"
                                      matBadgeOverlap="false"></span>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Branch Manager','account_tree','All Branches','branch/all','view_list')">
                            <mat-icon matSuffix>view_list</mat-icon>
                            <span class="menu_title">All Branch</span>
                            <div class="col-md-4"></div>
                        </mat-list-item>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Branch Manager','account_tree','Add Branch','branch/add','add_circle')">
                            <mat-icon matSuffix>add_circle</mat-icon>
                            <span class="menu_title">Add Branch</span></mat-list-item>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-list-item *ngIf="!isClient" title="Task Manager" class="menu_item task_manager"
                               (click)="changeRoute($event,'','','Task Manager','tasks','task')">
                    <mat-icon matSuffix>task</mat-icon>
                    <span class="menu_title">Task Manager</span>
                    <span class="menu_badge task_badge" matBadge="{{tasksCount}}"
                          matBadgeOverlap="false"></span>
                </mat-list-item>
                <mat-list-item *ngIf="hasShrunk && (!isClient)" title="Branch Manager" class="menu_item menu_lists"
                               (mouseover)="openLiApplication= false; openLiBranch = true;">
                    <mat-icon matSuffix>account_tree</mat-icon>
                    <span class="menu_title"></span>
                    <ul class="tree-menu" *ngIf="hasShrunk && openLiBranch" (mouseleave)="openLiBranch = false">
                        <li><a href="https://icondatcrm.com/condat/5/applications/dashboard"><i
                                class="fa fa-circle-o"></i>
                            Application Dashboard</a></li>
                        <li class="treeview" style="height: auto;">
                            <a href="#"><i class="fa fa-circle-o"></i> Application Tracker
                                <span class="pull-right-container">
                  <i class="fa fa-angle-left pull-right"></i>
                </span>
                            </a>
                        </li>
                        <li><a href="https://icondatcrm.com/condat/5/application-status"><i class="fa fa-circle-o"></i>
                            Application Types</a></li>

                        <li><a href="https://icondatcrm.com/condat/5/create-application"><i class="fa fa-circle-o"></i>
                            Add Application</a>
                        </li>
                        <li><a href="https://icondatcrm.com/condat/5/no-applications"><i class="fa fa-circle-o"></i> No
                            Application
                            Clients</a></li>
                        <li><a href="https://icondatcrm.com/condat/5/applications/search"><i class="fa fa-circle-o"></i>
                            Filter Application</a></li>

                    </ul>
                </mat-list-item>

                <mat-accordion *ngIf="!hasShrunk && (!isClient)">
                    <mat-expansion-panel title="Institute" class="menu_item_accordian"
                                         (opened)="panelOpenState = true"
                                         (closed)="panelOpenState = false">
                        <mat-expansion-panel-header class="menu_accordian_header">
                            <mat-panel-title class="menu_accordian_title">
                                <mat-icon matSuffix>foundation</mat-icon>
                                <span class="menu_title">Institutes</span>
                            </mat-panel-title>
                            <mat-panel-description>
                                <span class="menu_badge institute_badge" matBadge="{{instituteCount}}"
                                      matBadgeOverlap="false"></span>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Institutes','foundation','All Institutes','institute/all','view_list')">
                            <mat-icon matSuffix>view_list</mat-icon>
                            <span class="menu_title">Institute List</span>
                            <div class="col-md-4"></div>
                        </mat-list-item>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Institutes','foundation','Add Institutes','institute/add','add_circle')">
                            <mat-icon matSuffix>add_circle</mat-icon>
                            <span class="menu_title">Add Institute</span></mat-list-item>
                    </mat-expansion-panel>
                </mat-accordion>

                <mat-accordion *ngIf="!hasShrunk && (!isClient) && (!isManager) && (!isAgent) ">
                    <mat-expansion-panel title="Agents" class="menu_item_accordian"
                                         (opened)="panelOpenState = true"
                                         (closed)="panelOpenState = false">
                        <mat-expansion-panel-header class="menu_accordian_header">
                            <mat-panel-title class="menu_accordian_title">
                                <mat-icon matSuffix>support_agent</mat-icon>
                                <span class="menu_title">Agents</span>
                            </mat-panel-title>
                            <mat-panel-description>
                                <span class="menu_badge agent_badge" matBadge="{{agentCount}}"
                                      matBadgeOverlap="false"></span>
                            </mat-panel-description>
                        </mat-expansion-panel-header>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Agents','support_agent','Agent Dasnboard','agent','dashboard')">
                            <mat-icon matSuffix>dashboard</mat-icon>
                            <span class="menu_title">Agent Dashboard</span>
                        </mat-list-item>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Agents','support_agent','All Agents','agent/all','view_list')">
                            <mat-icon matSuffix>view_list</mat-icon>
                            <span class="menu_title">All Agents</span>
                            <div class="col-md-4"></div>
                        </mat-list-item>
                        <mat-list-item class="menu_item"
                                       (click)="changeRoute($event,'Agents','support_agent','Add Agent','agent/add','add_circle')">
                            <mat-icon matSuffix>add_circle</mat-icon>
                            <span class="menu_title">Add Agent</span></mat-list-item>
                    </mat-expansion-panel>
                </mat-accordion>

            </mat-list>

        </mat-drawer>
        <mat-drawer-content class="drawer_content">
            <div class="menu-content">
                <div class="col-md-12 fixed">
                    <div class="menu_bar col-md-12 flex">
                        <button mat-icon-button matSuffix (click)="toggleNav(drawer)" class="no-border-btn menu_toggle">
                            <mat-icon>{{menuIcon}}</mat-icon>
                        </button>
                        <div class="breadcrum {{column}} flex">
                        <span *ngFor="let item of menu" class="breadcurm_text flex">
                            <mat-icon matSuffix>{{item.icon}}</mat-icon>
                            <p>{{item.text}}</p>
                        </span>
                        </div>

                        <div *ngIf="isMiddleResolution" class="search_bar col-md-4L">
                            <div class="search-wrapper {{active}}">
                                <div class="input-holder">
                                    <input type="text" class="search-input" placeholder="Type to search clients">
                                    <button mat-icon-button matSuffix class="search-icon no-border-btn mr-1"
                                            (click)="searchTrigger()">
                                        <mat-icon>search</mat-icon>
                                    </button>
                                </div>
                                <button mat-icon-button matSuffix class="close" (click)="closeSearch()">
                                    <mat-icon>close</mat-icon>
                                </button>
                            </div>
                        </div>
                        <div class="menu_bar_items col-md-4">
                            <button *ngIf="!isMiddleResolution" mat-icon-button matSuffix (click)="toggleSearchBar()"
                                    class="search-icon no-border-btn mr-1">
                                <mat-icon>search</mat-icon>
                            </button>
                            <button *ngIf="!isClient" mat-icon-button matSuffix matBadge="7" (click)="openMail()"
                                    [matMenuTriggerFor]="menu_notify"
                                    class="no-border-btn mr-1">
                                <mat-icon>groups</mat-icon>
                            </button>
                            <button *ngIf="!isClient" mat-icon-button matSuffix matBadge="7" (click)="openMail()"
                                    [matMenuTriggerFor]="menu_notify"
                                    class="no-border-btn mr-1">
                                <mat-icon>format_list_bulleted</mat-icon>
                            </button>
                            <button *ngIf="!isClient" mat-icon-button matSuffix matBadge="7" (click)="openMail()"
                                    [matMenuTriggerFor]="menu_notify"
                                    class="no-border-btn mr-1">
                                <mat-icon class="appln_rotate">flight</mat-icon>
                            </button>
                            <button *ngIf="!isClient" mat-icon-button matSuffix matBadge="{{tasksCount}}" (click)="openMail()"
                                    [matMenuTriggerFor]="menu_notify"
                                    class="no-border-btn task_notify mr-1">
                                <mat-icon>event</mat-icon>
                            </button>
                            <button *ngIf="!isClient" mat-icon-button matSuffix matBadge="7" [matBadgeHidden]="hidden"
                                    (click)="toggleBadgeVisibility()" [matMenuTriggerFor]="menu_notify"
                                    class="no-border-btn mr-1">
                                <mat-icon class="icon-anim-pulse">notifications</mat-icon>
                            </button>
                            <button mat-icon-button (click)="toggleProfile()" class="no-border-btn marginl10 profile">
                                <img src="../../assets/avatar.png">
                            </button>
                            <div class="col-md-4 dropdown-menu-lg bg-info dropdown-menu dropdown-menu-right {{show}}">
                                <app-profile [profile]="profile" [errorMessage]="errorMessage"></app-profile>
                            </div>
                            <mat-menu #menu_notify="matMenu" class="p-10" xPosition="before">
                                <div class="col-md-12">
                                    <div class="matMenu_title border_btm">
                                        <h3>{{menuTile}}</h3>
                                    </div>
                                    <div class="matMenu_body border_btm">
                                        <button mat-menu-item *ngFor="let data of itemData">
                                            <mat-icon>list</mat-icon>
                                            <span>{{data.title}}</span>
                                        </button>
                                        <!--<button mat-menu-item>Item 2</button>-->
                                    </div>
                                    <div class="matMenu_footer">
                                        <button mat-menu-item (click)="navigateToView()">View All</button>
                                    </div>
                                </div>

                            </mat-menu>
                        </div>
                        <div class="app_header_app_mobile {{openSearch}}">
                            <div class="search-wrapper active">
                                <div class="input-holder">
                                    <input type="text" class="search-input" placeholder="Type to search">
                                    <button mat-icon-button matSuffix class="search-icon no-border-btn"
                                            (click)="searchTrigger()">
                                        <mat-icon>search</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <mat-progress-bar *ngIf="started" mode="indeterminate"></mat-progress-bar>
                </div>
                <div class="container">
                    <router-outlet></router-outlet>
                </div>
            </div>
        </mat-drawer-content>
    </mat-drawer-container>
</div>


